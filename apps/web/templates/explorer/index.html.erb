<h2>API実行</h2>

<form action="/" method="POST" class='form-horizontal'>
  <div class="form-group">
    <label for="api[endpoint]" class="col-sm-3 control-label">エンドポイント</label>
    <div class="col-sm-9">
      <select class="form-control">
        <% endpoints.each do |endpoint_name, endpoint| %>
          <option value="<%= endpoint %>"><%= endpoint_name %></option>
        <% end %>
      </select>
      <%#= select_tag 'api[endpoint]', options_for_select(@endpoints), class: 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <label for="api[fields]" class="col-sm-3 control-label">取得項目</label>
    <div class="col-sm-9">
      <textarea class="form-control" placeholder="receive_order_shop_id,receive_order_id"></textarea>
      <%#= text_area :api, :fields, class: 'form-control', placeholder: 'receive_order_shop_id,receive_order_id' %>
    </div>
  </div>

  <div class="form-group">
    <label for="api[query]" class="col-sm-3 control-label">検索条件・オフセット・リミット</label>
    <div class="col-sm-9">
      <textarea class="form-control" rows="5" placeholder='{"receive_order_shop_id-eq": 3, "limit": 3, "offset": 5}'></textarea>
      <%#= text_area :api, :query, class: 'form-control', rows: 5, placeholder: '{"receive_order_shop_id-eq": 3, "limit": 3, "offset": 5}' %>
     </div>
  </div>

  <div class="form-group">
    <div class="col-sm-offset-3 col-sm-9">
      <p><inpute type="submit" class="btn btn-default">実行</input><%#= submit_tag '実行', class: 'btn btn-default' %></p>
    </div>
  </div>
</form>

<hr>

<h3>実行結果</h3>
<div id="result"></div>
